# 在线实验

这一章描述了 TanLabs 的工作原理。

!!! warning TODO
    
    合并到”在线测试“一章？

## 编程作业

利用 GitLab CI，在仓库中设置了 `.gitlab-ci.yml` 文件，评测的流程：

1. 同学修改代码，通过 GitLab CI 编译和评测
2. 评测结果保留在 GitLab 的 Artifacts 中
3. 评测完成时，通过 WebHook 通知 TanLabs，TanLabs 从 GitLab 取回评测结果
4. 同学在 TanLabs 上浏览评测信息，选择作为最终成绩的评测结果

## 真机评测

教学团队在实验室部署了树莓派集群，当同学提交评测任务的时候：

1. 分配若干个树莓派，下发涉及到的代码和配置，对应拓扑中的各个网络设备
2. 分配一个 VLAN 编号，在交换机上把对应树莓派的接口设置为对应 VLAN 的 Access 口，实现目标拓扑
3. 在各个树莓派上依次完成评测所需要完成的任务
4. 回传日志、评测结果和抓包结果
